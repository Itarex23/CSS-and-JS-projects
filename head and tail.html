<!DOCTYPE html>
<html>
    <head>
        <title>Heads and Tail</title>

    </head>
    <body>
        <button onclick = "
           pickCompMove();

            pickedMove('head')
        ">
        head
        </button>
    
        <button onclick = "
           pickCompMove();
            
            pickedMove('tail')
        ">
            Tail
        </button>

        <button onclick = "
        score.wins = 0,
        score.loses = 0,
        score.ties = 0;

        localStorage.removeItem('score')
        ">Reset score</button>

        <p class="show-result"></p>
        <p class="show-move" ></p>
        <p class="show-scores"></p>
        <script>

            const score = JSON.parse(localStorage.getItem('score')) || {
                wins: 0,
                loses: 0,
                ties: 0
            }
            
           
            document.querySelector('.show-move').innerHTML = `wins: ${score.wins}, loses: ${score.loses}, ties: ${score.ties}`;



            function pickedMove(myMove){
                let result = '';
                if(myMove === 'tail'){
                        

                        if( compMove === 'head'){  
                             result = 'you lose'}
                             
                            else if (compMove === 'tail'){result = 'tie'}
                            }

                 
                else if (myMove === 'head'){

                            
                            if( compMove === 'head'){ result = 'tie'}

                            else if (compMove === 'tail'){result = 'you win'}

                        };

                if(result === 'you win'){
                    score.wins += 1}
                else if (result === 'you lose'){
                    score.loses += 1}
                else if (result === 'tie'){
                    score.ties += 1};

                         alert(`computer choose ${compMove}, you chose ${myMove}. you ${result}.

wins: ${score.wins}, loses: ${score.loses}, ties: ${score.ties}`)


                    localStorage.setItem('score', JSON.stringify(score));

                     document.querySelector('.show-result').innerHTML = result;

                     document.querySelector('.show-move').innerHTML = `computer picked ${compMove}, and you picked ${myMove}`

                    document.querySelector('.show-scores').innerHTML = `wins: ${score.wins}, loses: ${score.loses}, ties: ${score.ties}`;

                }
                
            let compMove = '';
           function pickCompMove(){
                const randomNumber = Math.random();

                if(randomNumber >= 0 && randomNumber < 1/2){
                    compMove = 'head'
                }
                else if (randomNumber >= 1/2 && randomNumber <= 1){
                    compMove = 'tail'
                };
            
           }

        </script>
    </body>
</html>